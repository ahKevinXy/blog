### elasticsearch 博客

#### 理解搜索

* 非结构化搜索： 查找有搜索技术、工作经验的候选人
* 结构化搜索： 查找有5到10年工作经验到候选人
* 基于地理信息的搜索 ： 查找在江湾镇复原200公里的候选人
* 分析查询： 计算所有候选人的平均工资
* 组合查询： 计算在江湾镇100公里并且有5-10年工资经验的候选人的平均工资


#### lucene 的介绍

``` 

 lucene 是提供了一个功能丰富，底层的查询和索引库
```


#### Elasticsearch 介绍

    elasticsearch 是一款基于lucence 的面向文档的搜索引擎。具有良好的性能和可扩展性。它对lucence 进行了 抽象，屏蔽了它的底层细节，让搜索和分析更容易实现。它不仅具有搜索的功能，还提供了分布式，可扩展和多租户等特性。它的数据类型是非常灵活的，我们可以使用系统默认的规则就行匹配，也可以对它进行精确的控制。它提供了支持Json的restful接口，也提供了基于java，php 的api。


##### 索引 （map）
    索引是一个逻辑命名空间下不同类型的文档集合。Elasticsearch 的索引可以认为是数据库中的一个Schema。对于不同 的索引，我们可以应用不同的扩展性和可用性的配置参数。这些参数包括分片的个数、复制因子等。


##### 类型 （type）
    Elaticsearch 类型是逻辑上具有相同格式的文档集合。类型可以和数据库中表的概念类比。类型属于某个索引，属于某一个类型的文档具有相同的字段和数据类型。类型通常表示的是一些实体对象。我们可以强制同一个类型的文档使用相同的数据类型。同一类型的文档逻辑上具有相似性，描述同一个实体对象

##### 文档
    Elasticsearch 的文档是对所描述的实体对象的具体实例化。从某种意义上说，它可以和关系型数据库中的行进行对于。在不同的语言中，它与不同的术语相关。

##### 字段
    Elasticsearch 的文档包含了已Json的键值对方式组织的多个字段，字段可以是对象类型、数组类型或者核心数据类型。类型与表对应，文档与行对应，字段与列对应。字段的值也就自然地与表中的某行某列的数据单元对应



#### Elasticsearch 的CRUD (增删改查)


* 创建文档
    在索引添加一个新的文档

```
    curl -XPUT  http://..../{  'firstname': '' }

 ```

 * 获取文档
    获取索引中的文档

```
 curl -XGET http://.....

 {
     '_index' : '',
     '_type' : '',
     '_id': '',
     '_version': '',
     'found': '',
     '_source':{
         ''
     }
 }

```




